#!/bin/sh

cp .tmux.conf ~
cp .inputrc ~
cp .zshrc ~
cp -r .config ~

# neovim
curl -LO https://github.com/neovim/neovim/releases/download/v0.9.5/nvim.appimage
chmod 777 nvim.appimage
./nvim.appimage --appimage-extract
mkdir -p ~/.local/bin
ln -s `pwd`/squashfs-root/AppRun ~/.local/bin/nvim

# setup repo with more recent nodejs
curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -

# other packages
sudo apt-get update
sudo apt-get install -y nodejs ranger python3-pip zplug
pip install --user pynvim

# shell setup
sudo chown -R $(id -un) /usr/local/share/zsh # defaults to owned by UNKOWN:ssh which causes annoying compaudit messages
sudo chsh "$(id -un)" --shell "/usr/bin/zsh"
